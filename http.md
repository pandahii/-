#HTTP
### http 响应类型（Content-Type:）类别：

1. 常见的媒体格式类型如下：
- text/html ： HTML格式
- text/plain ：纯文本格式      
- text/xml ：  XML格式
- image/gif ：gif图片格式    
- image/jpeg ：jpg图片格式 
- image/png：png图片格式
2. 以application开头的媒体格式类型：
- application/xhtml+xml ：XHTML格式
- application/xml     ： XML数据格式
- application/atom+xml  ：Atom XML聚合格式    
- application/json    ： JSON数据格式
- application/pdf       ：pdf格式  
-  application/msword  ： Word文档格式
- application/octet-stream ： 二进制流数据（如常见的文件下载）
- application/x-www-form-urlencoded ：form表单数据被编码为key/value格式发送到服务器（表单默认的提交数据的格式）
- multipart/form-data ： 需要在表单中进行文件上传时，就需要使用该格式

3. packetbrat 配置过滤
```
include_body_for: ["text/html", "text/plain", "text/xml", "image/gif", "image/jpeg", "image/png", "application/xhtml+xml", "application/xml", "application/atom+xml", "application/json", "application/pdf", "application/msword", "application/octet-stream", "application/x-www-form-urlencoded",]
```
## HTTP 1.1 SEC
https://www.w3.org/Protocols/rfc2616/rfc2616-sec15.html#sec15.1.3

15安全注意事项
本节旨在告知应用程序开发人员、信息提供者和用户本文档所述的 HTTP/1.1 中的安全限制。讨论不包括对所揭示问题的最终解决方案，尽管它确实提出了一些降低安全风险的建议。

15.1个人信息
HTTP 客户端通常知道大量的个人信息（例如用户名、位置、邮件地址、密码、加密密钥等），并且应该非常小心，以防止这些信息通过 HTTP 协议无意泄露到其他来源. 我们强烈建议为用户提供一个方便的界面来控制此类信息的传播，并且设计者和实施者在这方面要特别小心。历史表明，该领域的错误通常会造成严重的安全和/或隐私问题，并对实施者的公司产生高度不利的影响。

15.1.1滥用服务器日志信息
服务器可以保存有关用户请求的个人数据，这些数据可能会识别他们的阅读模式或感兴趣的主题。这些信息在本质上显然是机密的，并且在某些国家，其处理可能受到法律的限制。使用 HTTP 协议提供数据的人员有责任确保在未经发布结果可识别的任何个人许可的情况下不分发此类材料。

15.1.2敏感信息的传输
与任何通用数据传输协议一样，HTTP 无法规范传输数据的内容，也没有任何先验方法来确定任何给定请求的上下文中任何特定信息的敏感性。因此，应用程序应该尽可能多地向该信息的提供者提供对该信息的控制。在此上下文中，有四个头字段值得特别提及：Server、Via、Referer 和 From。

揭示服务器的特定软件版本可能会使服务器机器更容易受到已知包含安全漏洞的软件的攻击。实现者应该使 Server 头域成为一个可配置的选项。

作为通过网络防火墙的门户的代理应该对标识防火墙后面主机的标头信息的传输采取特殊的预防措施。特别是，他们应该删除防火墙后生成的任何 Via 字段，或用经过清理的版本替换。

Referer 标头允许研究阅读模式并绘制反向链接。尽管它可能非常有用，但如果用户详细信息未与包含在

推荐人。即使个人信息已被删除，Referer 标头也可能指示不适合发布的私有文档的 URI。

在 From 字段中发送的信息可能与用户的隐私利益或其站点的安全策略相冲突，因此不应在用户无法禁用、启用和修改字段内容的情况下传输它。用户必须能够在用户偏好或应用程序默认配置中设置此字段的内容。

我们建议（但不要求）为用户提供一个方便的切换界面来启用或禁用 From 和 Referer 信息的发送。

User-Agent（第14.43节）或 Server（第14.38节）标头字段有时可用于确定特定客户端或服务器是否存在可能被利用的特定安全漏洞。不幸的是，同样的信息经常被用于其他有价值的目的，而 HTTP 目前没有更好的机制。

15.1.3在 URI 中编码敏感信息
因为链接的来源可能是私人信息或可能会泄露其他私人信息源，强烈建议用户能够选择是否发送Referer字段。例如，浏览器客户端可以有一个用于公开/匿名浏览的切换开关，这将分别启用/禁用Referer和From信息的发送。

如果引用页面是使用安全协议传输的，则客户端不应在（非安全）HTTP 请求中包含Referer 头字段。

使用 HTTP 协议的服务的作者不应该使用基于 GET 的表单来提交敏感数据，因为这将导致该数据被编码在 Request-URI 中。许多现有的服务器、代理和用户代理会将请求 URI 记录在第三方可能看到的某个地方。服务器可以改用基于 POST 的表单提交

15.1.4与接受标头相关的隐私问题
接受请求标头可以向所有访问的服务器透露有关用户的信息。特别是 Accept-Language 标头可以揭示用户认为属于私人性质的信息，因为对特定语言的理解通常

与特定种族群体的成员密切相关。强烈鼓励提供选项来配置要在每个请求中发送的 Accept-Language 标头内容的用户代理让配置过程包含一条消息，使用户意识到所涉及的隐私丢失。

限制隐私损失的一种方法是，用户代理默认忽略发送 Accept-Language 标头，并询问用户是否开始向服务器发送 Accept-Language 标头，如果它检测到，通过查看对于服务器生成的任何 Vary 响应头字段，这种发送可以提高服务质量。

在每个请求中发送的精心设计的用户自定义接受头字段，特别是如果这些包含质量值，可以被服务器用作相对可靠和长期存在的用户标识符。这样的用户标识符将允许内容提供者进行点击跟踪跟踪，并允许合作的内容提供者匹配跨服务器的点击跟踪或单个用户的表单提交。请注意，对于许多不在代理后面的用户，运行用户代理的主机的网络地址也将用作长期用户标识符。在使用代理来增强隐私的环境中，用户代理应该保守地向最终用户提供接受标头配置选项。作为一种极端的隐私措施，代理可以过滤中继请求中的接受标头。

15.2基于文件名和路径名的攻击
HTTP 源服务器的实现应该小心地将 HTTP 请求返回的文档限制为仅是服务器管理员想要的文档。如果 HTTP 服务器将 HTTP URI 直接转换为文件系统调用，则服务器必须特别注意不要提供不打算传递给 HTTP 客户端的文件。例如，UNIX、Microsoft Windows 和其他操作系统使用“..”作为路径组件来指示高于当前目录级别的目录级别。在这样的系统上，HTTP 服务器必须禁止 Request-URI 中的任何此类构造，否则它会允许访问超出预期可通过 HTTP 服务器访问的资源之外的资源。同样，仅供服务器内部参考的文件（例如访问控制文件、配置文件和脚本代码）必须防止不当检索，因为它们可能包含敏感信息。经验表明，这种 HTTP 服务器实现中的小错误已经变成了安全风险。

15.3 DNS 欺骗
使用 HTTP 的客户端严重依赖域名服务，因此通常容易受到基于 IP 地址和 DNS 名称故意错误关联的安全攻击。客户在假设 IP 号码/DNS 名称关联的持续有效性时需要谨慎。

特别是，HTTP 客户端应该依赖他们的名称解析器来确认 IP 号码/DNS 名称关联，而不是缓存以前的主机名查找结果。许多平台已经可以在适当的时候在本地缓存主机名查找，它们应该被配置为这样做。缓存这些查找是合适的，但是，只有当名称服务器报告的 TTL（生存时间）信息使得缓存的信息可能仍然有用时。

如果 HTTP 客户端缓存主机名查找的结果以实现性能改进，它们必须观察 DNS 报告的 TTL 信息。

如果 HTTP 客户端不遵守此规则，它们可能会在先前访问的服务器的 IP 地址更改时被欺骗。随着网络重新编号预计将变得越来越普遍[24]，这种形式的攻击的可能性将会增加。因此，遵守此要求可减少此潜在的安全漏洞。

此要求还改进了使用相同 DNS 名称的复制服务器的客户端的负载平衡行为，并降低了用户在访问使用该策略的站点时遇到故障的可能性。

15.4位置标头和欺骗
如果单个服务器支持多个互不信任的组织，则它必须检查在所述组织控制下生成的响应中 Location 和 Content-Location 标头的值，以确保它们不会尝试使资源无效他们没有权力。

15.5内容处置问题
RFC 1806 [35]是从 HTTP 中经常实现的 Content-Disposition（参见第 19.5.1 节）标头派生而来的，它有许多非常严重的安全考虑。Content-Disposition 不是 HTTP 标准的一部分，但由于它被广泛实施，我们正在为实施者记录它的使用和风险。有关详细信息，请参阅 RFC 2183 [49] （更新 RFC 1806）。

15.6身份验证凭证和空闲客户端
现有的 HTTP 客户端和用户代理通常会无限期地保留身份验证信息。HTTP/1.1。没有为服务器提供一种方法来指导客户端丢弃这些缓存的凭据。这是一个重大缺陷，需要对 HTTP 进行进一步扩展。凭证缓存可能干扰应用程序安全模型的情况包括但不限于：

      - 长时间闲置的客户端
        服务器可能希望使客户端重新提示
        用户的凭据。
      - 包含会话终止指示的应用程序
        （例如页面上的“注销”或“提交”按钮）之后
        应用程序的服务器端“知道”没有
        客户保留凭据的进一步原因。
目前正在单独研究中。这个问题的一部分有很多变通方法，我们鼓励在屏幕保护程序、空闲超时和其他方法中使用密码保护来缓解这个问题固有的安全问题。特别是，鼓励缓存凭证的用户代理提供一种易于访问的机制，用于在用户控制下丢弃缓存的凭证。

15.7代理和缓存
就其本质而言，HTTP 代理是中间人，代表了中间人攻击的机会。代理运行的系统遭到破坏可能会导致严重的安全和隐私问题。代理可以访问与安全相关的信息、有关个人用户和组织的个人信息以及属于用户和内容提供商的专有信息。被破坏的代理，或在不考虑安全和隐私考虑的情况下实施或配置的代理，可能被用于实施各种潜在的攻击。

代理运营商应保护运行代理的系统，就像保护任何包含或传输敏感信息的系统一样。特别是，在代理处收集的日志信息通常包含高度敏感的个人信息和/或有关组织的信息。应仔细保护日志信息，并制定和遵循适当的使用指南。（第 15.1.1 节）。

缓存代理提供了额外的潜在漏洞，因为缓存的内容代表了恶意利用的有吸引力的目标。由于缓存内容在 HTTP 请求完成后仍然存在，因此对缓存的攻击可能会在用户认为信息已从网络中删除很久之后才泄露信息。因此，缓存内容应作为敏感信息加以保护。

代理实施者应该考虑他们的设计和编码决策的隐私和安全影响，以及他们提供给代理操作员的配置选项（尤其是默认配置）。

代理的用户需要意识到他们并不比运行代理的人更值得信赖；HTTP 本身无法解决这个问题。

在适当的情况下，明智地使用密码学可能足以防止广泛的安全和隐私攻击。这种密码学超出了 HTTP/1.1 规范的范围。

15.7.1对代理的拒绝服务攻击
它们存在。他们很难防御。研究仍在继续。谨防。

本文件已被取代。
有关详细信息，请参阅IETF 文档。
▴ 展开
